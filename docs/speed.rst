Speed
========

Very generally, this library is about as fast as Python and Matlab, at least at
in beta5. Going down to iOS is approximately 10x slower.

All functions are `on Github <https://github.com/scottsievert/swix/blob/master/swix/speed/>`_ for your browsing.

.. note:: OSX tests were run on my machine, a 2012 macbook air with an SSD and 8GB RAM

.. note:: iOS tests were run on my iPhone 5.

Times
-----------------

In summary:

+----------------+-----------------+-----------------+-----------------+-----------------+---------------------+
| Function       | **sw-OSX / np** | **sw-iOS / np** | **sw-OSX / ml** | **sw-iOS / ml** | **sw-iOS / sw-OSX** |
+----------------+-----------------+-----------------+-----------------+-----------------+---------------------+
| pe1            | 0.65            | 4.71            | 0.78            | 5.63            | 7.25                |
+----------------+-----------------+-----------------+-----------------+-----------------+---------------------+
| pe10           | 0.29            | 1.38            | 1.14            | 5.47            | 4.76                |
+----------------+-----------------+-----------------+-----------------+-----------------+---------------------+
| pi_approx      | 2.15            | 8.27            | 9.01            | 34.6            | 3.85                |
+----------------+-----------------+-----------------+-----------------+-----------------+---------------------+
| soft_threshold | 0.019           | 0.17            | 0.062           | 0.58            | 8.95                |
+----------------+-----------------+-----------------+-----------------+-----------------+---------------------+

.. note:: To condense this table I use ``np`` for NumPy, ``ml`` for Matlab and ``sw`` for swix.

In detail:

Time in seconds on my Macbook Air:

+----------------+--------+--------+--------------+
| Function       | -Onone | -O     | -Ounchecked  |
+----------------+--------+--------+--------------+
| pe1            | 2.151  | 0.1107 | 0.1112       |
+----------------+--------+--------+--------------+
| pe10           | 6.707  | 0.5781 | 0.5537       |
+----------------+--------+--------+--------------+
| pi_approx      | 2.159  | 0.0991 | 0.1032       |
+----------------+--------+--------+--------------+
| soft_threshold | 0.052  | 0.0015 | 0.0015       |
+----------------+--------+--------+--------------+

Time in seconds on my iPhone 5:

+----------------+--------+--------+--------------+
| Function       | -Onone | -O     | -Ounchecked  |
+----------------+--------+--------+--------------+
| pe1            | 12.58  | 0.9160 | 0.8000       |
+----------------+--------+--------+--------------+
| pe10           | 41.27  | 3.1640 | 2.8142       |
+----------------+--------+--------+--------------+
| pi_approx      | 13.96  | 0.5010 | 0.3806       |
+----------------+--------+--------+--------------+
| soft_threshold | 0.393  | 0.0164 | 0.0140       |
+----------------+--------+--------+--------------+

And we should also compare against NumPy/Matlab!

+----------------+-------+--------+-------------+----------+
| Function       | NumPy | Matlab | swix-MacOSX | swix-iOS |
+----------------+-------+--------+-------------+----------+
| pe1            | 0.170 | 0.142  | 0.1107      | 0.8000   |
+----------------+-------+--------+-------------+----------+
| pe10           | 2.04  | 0.514  | 0.5871      | 2.8142   |
+----------------+-------+--------+-------------+----------+
| pi_approx      | 0.046 | 0.011  | 0.0991      | 0.3806   |
+----------------+-------+--------+-------------+----------+
| soft_threshold | 0.081 | 0.024  | 0.0015      | 0.0140   |
+----------------+-------+--------+-------------+----------+





Comments
----------
* I'm surprised about the soft thresholding result. 
* pi_approx depends on indexing at select locations; this needs to be optimized.

